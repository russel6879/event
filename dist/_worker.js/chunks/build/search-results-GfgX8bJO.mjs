import{_ as a}from"./nuxt-link-DRGY1ko4.mjs";import{u as e,a as s}from"./server.mjs";import{e as t}from"./eventService-DD8DRnKe.mjs";import{b as l,w as n,c as i,H as r,P as c,a7 as o,a6 as u,a8 as p,v as d,$ as m,a2 as v,e as g,a0 as _}from"../routes/renderer.mjs";import"../runtime.mjs";import"node:async_hooks";import"../virtual/_commonjsHelpers.mjs";import"../_/pathe.ff20891b.mjs";const f={__name:"search-results",__ssrInlineRender:!0,setup(d){const f=e();s();const b=l({data:[],prev_page_url:null,next_page_url:null,current_page:1,last_page:1});n((()=>f.query.page),(a=>{(async(a=1)=>{try{const e={query:f.query.query,country:f.query.country,category:f.query.category,page:a},s=await t.searchEvents(e);b.value=s.data}catch(a){console.error("Error fetching search results:",a)}})(Number(a)||1)}));const y=i((()=>Array.from({length:b.value.last_page},((a,e)=>e+1))));return(e,s,t,l)=>{const n=a;s('\x3c!--[--\x3e<section class="breadcrumb-area bread-bg"><div class="overlay"></div><div class="container"><div class="breadcrumb-content text-center"><h2 class="sec__title text-white mb-3">Search Results</h2><ul class="bread-list"><li>'),s(r(n,{to:"/"},{default:c(((a,e,s,t)=>{if(!e)return[m("home")];e("home")})),_:1},t)),s(`</li><li>Search Results for &quot;${o(e.$route.query.query)}&quot;</li></ul></div></div></section><section class="card-area section--padding pt-0"><div class="container">`),b.value.data.length?(s('<div class="row mt-5 d-flex">\x3c!--[--\x3e'),u(b.value.data,((a,l)=>{s('<div class="col-lg-4 col-md-6">'),s(r(n,{to:`/listing-details/${a.slug}`},{default:c(((s,t,l,n)=>{if(!t)return[g("div",{class:"card mb-0 hover-y"},[g("a",{class:"card-image"},[g("img",{src:`${e.$config.public.baseURL}/`+a.featured_photo,class:"card-img-top",alt:"Event Image"},null,8,["src"]),g("span",{class:["badge badge-pill",{"text-bg-danger":"online"===a.event_type,"text-bg-success":"physical"===a.event_type,"text-bg-primary":"hybrid"===a.event_type}]},_(a.event_type),3)]),g("div",{class:"card-body position-relative"},[g("h4",{class:"card-title mb-0"},[g("a",null,_(a.title),1)]),g("p",{class:"card-text"},_(a.venue.venue_name)+", "+_(a.country.name),1),g("ul",{class:"info-list mt-3"},[g("li",null,[g("span",{class:"fal fa-link icon"}),g("a",{target:"_blank",href:a.website_link},_(a.website_link),9,["href"])]),g("li",null,[g("span",{class:"fal fa-calendar icon"}),m(" "+_(a.event_date_from),1)]),g("li",null,[g("span",{class:"fal fa-watch icon"}),m(" "+_(a.event_time_from),1)])])])])];t(`<div class="card mb-0 hover-y"${n}><a class="card-image"${n}><img${v("src",`${e.$config.public.baseURL}/`+a.featured_photo)} class="card-img-top" alt="Event Image"${n}><span class="${p([{"text-bg-danger":"online"===a.event_type,"text-bg-success":"physical"===a.event_type,"text-bg-primary":"hybrid"===a.event_type},"badge badge-pill"])}"${n}>${o(a.event_type)}</span></a><div class="card-body position-relative"${n}><h4 class="card-title mb-0"${n}><a${n}>${o(a.title)}</a></h4><p class="card-text"${n}>${o(a.venue.venue_name)}, ${o(a.country.name)}</p><ul class="info-list mt-3"${n}><li${n}><span class="fal fa-link icon"${n}></span><a target="_blank"${v("href",a.website_link)}${n}>${o(a.website_link)}</a></li><li${n}><span class="fal fa-calendar icon"${n}></span> ${o(a.event_date_from)}</li><li${n}><span class="fal fa-watch icon"${n}></span> ${o(a.event_time_from)}</li></ul></div></div>`)})),_:2},t)),s("</div>")})),s("\x3c!--]--\x3e</div>")):s("\x3c!----\x3e"),s(`<nav aria-label="Page navigation example" class="mt-5"><ul class="pagination justify-content-center pagination-list"><li class="${p([{disabled:!b.value.prev_page_url},"page-item"])}"><a class="page-link" aria-label="Previous"><span aria-hidden="true" class="fal fa-angle-left"></span><span class="sr-only">Previous</span></a></li>\x3c!--[--\x3e`),u(y.value,(a=>{s(`<li class="${p([{active:b.value.current_page===a},"page-item"])}"><a class="page-link">${o(a)}</a></li>`)})),s(`\x3c!--]--\x3e<li class="${p([{disabled:!b.value.next_page_url},"page-item"])}"><a class="page-link" aria-label="Next"><span aria-hidden="true" class="fal fa-angle-right"></span><span class="sr-only">Next</span></a></li></ul></nav></div></section>\x3c!--]--\x3e`)}}},b=f.setup;f.setup=(a,e)=>{const s=d();return(s.modules||(s.modules=new Set)).add("pages/search-results.vue"),b?b(a,e):void 0};export{f as default};
//# sourceMappingURL=search-results-GfgX8bJO.mjs.map
