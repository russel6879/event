import{P as e,D as t,j as a,Q as r,T as l}from"../runtime.mjs";import{b as n,n as u,r as i,c as o,e as s,f as v}from"./server.mjs";import{d as c,b as f,h as d,af as p,c as h}from"../routes/renderer.mjs";async function preloadRouteComponents(e,t=n()){}function defineNuxtLink(r){const l=r.componentName||"NuxtLink";function resolveTrailingSlashBehavior(e,t){if(!e||"append"!==r.trailingSlash&&"remove"!==r.trailingSlash)return e;if("string"==typeof e)return applyTrailingSlashBehavior(e,r.trailingSlash);const a="path"in e&&void 0!==e.path?e.path:t(e).path;return{...e,name:void 0,path:applyTrailingSlashBehavior(a,r.trailingSlash)}}function useNuxtLink(e){var r,l,u;const s=n(),c=v(),f=h((()=>!!e.target&&"_self"!==e.target)),d=h((()=>{const a=e.to||e.href||"";return"string"==typeof a&&t(a,{acceptRelative:!0})})),g=p("RouterLink"),y=g&&"string"!=typeof g?g.useLink:void 0,m=h((()=>{if(e.external)return!0;const t=e.to||e.href||"";return"object"!=typeof t&&(""===t||d.value)})),x=h((()=>{const t=e.to||e.href||"";return m.value?t:resolveTrailingSlashBehavior(t,s.resolve)})),S=m.value||null==y?void 0:y({...e,to:x}),b=h((()=>{var e,t;if(!x.value||d.value)return x.value;if(m.value){const e="object"==typeof x.value&&"path"in x.value?i(x.value):x.value;return resolveTrailingSlashBehavior("object"==typeof e?s.resolve(e).href:e,s.resolve)}return"object"==typeof x.value?null!=(e=null==(t=s.resolve(x.value))?void 0:t.href)?e:null:resolveTrailingSlashBehavior(a(c.app.baseURL,x.value),s.resolve)}));return{to:x,hasTarget:f,isAbsoluteUrl:d,isExternal:m,href:b,isActive:null!=(r=null==S?void 0:S.isActive)?r:h((()=>x.value===s.currentRoute.value.path)),isExactActive:null!=(l=null==S?void 0:S.isExactActive)?l:h((()=>x.value===s.currentRoute.value.path)),route:null!=(u=null==S?void 0:S.route)?u:h((()=>s.resolve(x.value))),async navigate(){await o(b.value,{replace:e.replace,external:m.value||f.value})}}}return c({name:l,props:{to:{type:[String,Object],default:void 0,required:!1},href:{type:[String,Object],default:void 0,required:!1},target:{type:String,default:void 0,required:!1},rel:{type:String,default:void 0,required:!1},noRel:{type:Boolean,default:void 0,required:!1},prefetch:{type:Boolean,default:void 0,required:!1},prefetchOn:{type:[String,Object],default:void 0,required:!1},noPrefetch:{type:Boolean,default:void 0,required:!1},activeClass:{type:String,default:void 0,required:!1},exactActiveClass:{type:String,default:void 0,required:!1},prefetchedClass:{type:String,default:void 0,required:!1},replace:{type:Boolean,default:void 0,required:!1},ariaCurrentValue:{type:String,default:void 0,required:!1},external:{type:Boolean,default:void 0,required:!1},custom:{type:Boolean,default:void 0,required:!1}},useLink:useNuxtLink,setup(t,{slots:a}){const l=n(),{to:u,href:o,navigate:v,isExternal:c,hasTarget:h,isAbsoluteUrl:g}=useNuxtLink(t),y=f(!1);async function prefetch(e=s()){if(y.value)return;y.value=!0;const t="string"==typeof u.value?u.value:c.value?i(u.value):l.resolve(u.value).fullPath;await Promise.all([e.hooks.callHook("link:prefetch",t).catch((()=>{})),!c.value&&!h.value&&preloadRouteComponents(u.value,l).catch((()=>{}))])}return()=>{var l;if(!c.value&&!h.value){const e={ref:undefined,to:u.value,activeClass:t.activeClass||r.activeClass,exactActiveClass:t.exactActiveClass||r.exactActiveClass,replace:t.replace,ariaCurrentValue:t.ariaCurrentValue,custom:t.custom};return t.custom||(function(e){var a,l,n,u;return!y.value&&("string"==typeof t.prefetchOn?t.prefetchOn===e:null!=(a=null==(n=t.prefetchOn)?void 0:n[e])?a:null==(u=r.prefetchOn)?void 0:u[e])&&!1!==(null!=(l=t.prefetch)?l:r.prefetch)&&!0!==t.noPrefetch&&"_blank"!==t.target&&!0}("interaction")&&(e.onPointerenter=prefetch.bind(null,void 0),e.onFocus=prefetch.bind(null,void 0)),y.value&&(e.class=t.prefetchedClass||r.prefetchedClass),e.rel=t.rel||void 0),d(p("RouterLink"),e,a.default)}const n=t.target||null,i=((...e)=>e.find((e=>void 0!==e)))(t.noRel?"":t.rel,r.externalRelAttribute,g.value||h.value?"noopener noreferrer":"")||null;return t.custom?a.default?a.default({href:o.value,navigate:v,prefetch:prefetch,get route(){if(!o.value)return;const t=new URL(o.value,"http://localhost");return{path:t.pathname,fullPath:t.pathname,get query(){return e(t.search)},hash:t.hash,params:{},name:void 0,matched:[],redirectedFrom:void 0,meta:{},href:o.value}},rel:i,target:n,isExternal:c.value||h.value,isActive:!1,isExactActive:!1}):null:d("a",{ref:undefined,href:o.value||null,rel:i,target:n},null==(l=a.default)?void 0:l.call(a))}}})}const g=defineNuxtLink(u);function applyTrailingSlashBehavior(e,a){const n="append"===a?r:l;return t(e)&&!e.startsWith("http")?e:n(e,!0)}export{g as _};
//# sourceMappingURL=nuxt-link-DRGY1ko4.mjs.map
