const __vite__fileDeps=["./Bsz6lE6h.js","./BghaiIeg.js","./zhf3nTjy.js","./swiper-vue.7m7mx8Sh.css","./entry.kBz33N0H.css","./Editor.lX4_aKuX.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{_ as k,a as q,b as V,u as E,c as U}from"./BghaiIeg.js";import{a as v,x as L,B as p,C as m,N as e,Y as C,Z as d,a2 as i,a3 as I,k as D,u as F,a1 as N,F as P,a4 as R,Q as S,R as T,P as n,I as B}from"./zhf3nTjy.js";import{e as f}from"./C2xPMm21.js";import"./B4uVmeYG.js";const l=c=>(S("data-v-3945dfdd"),c=c(),T(),c),M=R('<section class="breadcrumb-area bread-bg" data-v-3945dfdd><div class="overlay" data-v-3945dfdd></div><div class="container" data-v-3945dfdd><div class="breadcrumb-content text-center" data-v-3945dfdd><h2 class="sec__title text-white mb-3" data-v-3945dfdd>Edit Listing</h2><ul class="bread-list" data-v-3945dfdd><li data-v-3945dfdd><a href="/" data-v-3945dfdd>Home</a></li><li data-v-3945dfdd>Listing</li><li data-v-3945dfdd>Edit Listing</li></ul></div></div><div class="bread-svg" data-v-3945dfdd><svg viewBox="0 0 500 150" preserveAspectRatio="none" data-v-3945dfdd><path d="M-4.22,89.30 C280.19,26.14 324.21,125.81 511.00,41.94 L500.00,150.00 L0.00,150.00 Z" data-v-3945dfdd></path></svg></div></section>',1),A={class:"add-listing-area padding-top-60px padding-bottom-90px"},H={class:"container"},O=l(()=>e("div",{class:"alert alert-info fade show mb-4",role:"alert"},[e("p",null,[e("strong",{class:"font-weight-semi-bold"},"Returning User? Please"),n(),e("a",{href:"/login",class:"alert-link font-weight-semi-bold"},"log in"),n(" and if you are a New User, Continue Below and register along with this submission.")])],-1)),Z={class:"card"},K={class:"card-body"},Q=l(()=>e("h4",{class:"card-title mb-3"},"Basic Information",-1)),W=l(()=>e("hr",{class:"border-top-gray my-0"},null,-1)),Y={class:"row mt-4"},$={class:"col-lg-6"},j={class:"form-group"},z=l(()=>e("label",{class:"label-text"},[n("Title "),e("span",{class:"required"},"*")],-1)),G={class:"col-lg-6"},J={class:"form-group"},X=l(()=>e("label",{class:"label-text"},[n("Event Type "),e("span",{class:"required"},"*")],-1)),ee=l(()=>e("option",{value:"online"},"Online",-1)),te=l(()=>e("option",{value:"physical"},"Physical",-1)),se=l(()=>e("option",{value:"hybrid"},"Hybrid",-1)),oe=[ee,te,se],le={class:"col-lg-6"},ae={class:"form-group"},ne=l(()=>e("label",{class:"label-text"},[n("Country "),e("span",{class:"required"},"*")],-1)),de={class:"col-lg-6"},ie={class:"form-group"},re=l(()=>e("label",{class:"label-text"},[n("Venue "),e("span",{class:"required"},"*")],-1)),ce={class:"col-lg-6"},ue={class:"form-group"},ve=l(()=>e("label",{class:"label-text"},[n("Event Date "),e("span",{class:"required"},"*")],-1)),_e={class:"col-lg-6"},pe={class:"form-group"},me=l(()=>e("label",{class:"label-text"},[n("Event Time "),e("span",{class:"required"},"*")],-1)),fe={class:"col-lg-12"},he={class:"form-group"},ge=l(()=>e("label",{class:"label-text"},[n("Category "),e("span",{class:"required"},"*")],-1)),be={class:"col-lg-12"},ye={class:"form-group"},xe=l(()=>e("label",{class:"label-text"},[n("Website Link "),e("span",{class:"required"},"*")],-1)),we={class:"col-lg-12"},ke={class:"form-group"},qe=l(()=>e("label",{class:"label-text"},[n("Description "),e("span",{class:"required"},"*")],-1)),Ve={class:"col-lg-12"},Ee={class:"form-group"},Ue=l(()=>e("label",{class:"label-text"},"Video Link",-1)),Le={class:"col-lg-12"},Ce={class:"form-group"},Ie=l(()=>e("label",{class:"label-text"},[n("Featured Photo "),e("span",{class:"required"},"*")],-1)),De=["src"],Fe=l(()=>e("button",{class:"theme-btn border-0 mt-3",type:"submit"},"Update Listing",-1)),Ne={__name:"[id]",setup(c){const _=q();V();const h=B(()=>U(()=>import("./Bsz6lE6h.js"),__vite__mapDeps([0,1,2,3,4,5]),import.meta.url)),r=v(""),g=v(0),s=v({title:"",user_id:"",event_type:"",country:"",venue:"",event_date:"",event_time:"",category:"",website_link:"",video_link:"",featured_photo:""}),u=v(null);L(async()=>{const a=_.params.id;if(a)try{const t=await f.getEvent(a);s.value={title:t.title,user_id:t.user_id,event_type:t.event_type,country:t.country,venue:t.venue,event_date:t.event_date,event_time:t.event_time,category:t.category,website_link:t.website_link,video_link:t.video_link,featured_photo:null},r.value=t.description}catch(t){console.error("Error fetching event:",t)}});const b=()=>{s.value={title:"",user_id:"",event_type:"",country:"",venue:"",event_date:"",event_time:"",category:"",website_link:"",video_link:"",featured_photo:""},r.value="",g.value+=1,u.value=null},y=a=>{const t=a.target.files[0];if(s.value.featured_photo=t,t){const o=new FileReader;o.onload=w=>{u.value=w.target.result},o.readAsDataURL(t)}},x=async()=>{try{const a=new FormData;a.append("title",s.value.title),a.append("description",r.value),a.append("featured_photo",s.value.featured_photo);const t=_.params.id;await f.updateEvent(t,a),E().$toast.success("Event updated successfully!",{autoClose:5e3,theme:"colored",dangerouslyHTMLString:!0}),b()}catch(a){console.error("Error updating event:",a),alert("Failed to update event. Please try again.")}};return(a,t)=>(p(),m(P,null,[M,e("section",A,[e("div",H,[O,e("form",{onSubmit:C(x,["prevent"])},[e("div",Z,[e("div",K,[Q,W,e("div",Y,[e("div",$,[e("div",j,[z,d(e("input",{class:"form-control form--control ps-3",type:"text","onUpdate:modelValue":t[0]||(t[0]=o=>s.value.title=o),placeholder:"Title",required:""},null,512),[[i,s.value.title]])])]),e("div",G,[e("div",J,[X,d(e("select",{class:"form-control form--control ps-3","onUpdate:modelValue":t[1]||(t[1]=o=>s.value.event_type=o),required:""},oe,512),[[I,s.value.event_type]])])]),e("div",le,[e("div",ae,[ne,d(e("input",{class:"form-control form--control ps-3",type:"text","onUpdate:modelValue":t[2]||(t[2]=o=>s.value.country=o),placeholder:"Country",required:""},null,512),[[i,s.value.country]])])]),e("div",de,[e("div",ie,[re,d(e("input",{class:"form-control form--control ps-3",type:"text","onUpdate:modelValue":t[3]||(t[3]=o=>s.value.venue=o),placeholder:"Venue",required:""},null,512),[[i,s.value.venue]])])]),e("div",ce,[e("div",ue,[ve,d(e("input",{class:"form-control form--control ps-3",type:"date","onUpdate:modelValue":t[4]||(t[4]=o=>s.value.event_date=o),required:""},null,512),[[i,s.value.event_date]])])]),e("div",_e,[e("div",pe,[me,d(e("input",{class:"form-control form--control ps-3",type:"time","onUpdate:modelValue":t[5]||(t[5]=o=>s.value.event_time=o),required:""},null,512),[[i,s.value.event_time]])])]),e("div",fe,[e("div",he,[ge,d(e("input",{class:"form-control form--control ps-3",type:"text","onUpdate:modelValue":t[6]||(t[6]=o=>s.value.category=o),required:""},null,512),[[i,s.value.category]])])]),e("div",be,[e("div",ye,[xe,d(e("input",{class:"form-control form--control ps-3",type:"url","onUpdate:modelValue":t[7]||(t[7]=o=>s.value.website_link=o),required:""},null,512),[[i,s.value.website_link]])])]),e("div",we,[e("div",ke,[qe,D(F(h),{content:r.value,"onUpdate:content":t[8]||(t[8]=o=>r.value=o)},null,8,["content"])])]),e("div",Ve,[e("div",Ee,[Ue,d(e("input",{class:"form-control form--control ps-3",type:"url","onUpdate:modelValue":t[9]||(t[9]=o=>s.value.video_link=o)},null,512),[[i,s.value.video_link]])])]),e("div",Le,[e("div",Ce,[Ie,e("input",{class:"form-control form--control ps-3",type:"file",onChange:y},null,32),u.value?(p(),m("img",{key:0,src:u.value,class:"img-thumbnail mt-2"},null,8,De)):N("",!0)])])])])]),Fe],32)])])],64))}},Be=k(Ne,[["__scopeId","data-v-3945dfdd"]]);export{Be as default};
